<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Topic to Study</title>
</head>
<body>
    <div id="container">
        <h1>공부할 주제</h1>
        <p>공부할 내용을 기록해보세요.</p>
        <form>
            <input type="text" id="subject" autofocus>
            <button onclick="newRegister(); return false;">추가하기</button>
            <!-- return false; 는 버튼 기능인 submit 역할을 취소
            입력해주지 않으면 함수를 실행하기 전에 기본 기능을 먼저 함 -->
        </form>
        <hr>

        <ul id="itemList">
        </ul>
    </div>

    <script>
        function newRegister() {
            // 요소 노드 추가
            let newItem = document.createElement("li");
            // 폼의 텍스트 필드
            let subjectInput = document.getElementById("subject");
            //  텍스트 필드의 값을 텍스트 노드로 만들기
            let newText = document.createTextNode(subjectInput.value);
            //  텍스트 노드를 요소 노드의 자식 노드로 추가(연결)
            newItem.appendChild(newText);   // 여기서는 newItem이 부모, newText가 자식

            //  웹 문서에서 부모 노드 가져오기
            let $itemList = document.querySelector("#itemList");
            $itemList.appendChild(newItem);

            // Clear the input field after adding the item to the list
            subjectInput.value = "";

            // 입력된 모든 항목 가져오기
            let items = document.querySelectorAll("li");
            // for(let i = 0; i <items.length; i++){
            //     items[i].addEventListener("click", function(){
            //         if(this.parentNode){    // 부모 노드가 있다면
            //         this.parentNode.removeChild(this)   // 부모 노드에서 삭제
            //         }
            //     });
            // }
            newItem.addEventListener("click", function(){
                if(this.parentNode){
                    this.parentNode.removeChild(this);
                }
            });
        }

        // 배열의 push와 slice를 사용해서 추가와 삭제 기능 구현 가능

    </script>
</body>
</html>
